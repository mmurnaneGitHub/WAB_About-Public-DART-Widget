define("dojo/_base/declare dojo/_base/html dojo/query dojo/on dojo/_base/lang dojo/dom-construct esri/tasks/GeometryService esri/SpatialReference ./common dijit/_WidgetsInTemplateMixin jimu/utils jimu/BaseWidget".split(" "),function(h,d,k,f,e,l,m,r,g,n,b,p){return h([p,n],{baseClass:"jimu-widget-about",postCreate:function(){this.inherited(arguments);gsvc=new m("https://gis.cityoftacoma.org/arcgis/rest/services/Utilities/Geometry/GeometryServer")},startup:function(){this.inherited(arguments);g.isDefaultContent(this.config)&&
(this.config.about.aboutContent=g.setDefaultContent(this.config,this.nls));this.openAtStartAysn=this.isOpen=!0;this.resize();this.openAtStartAysn=!0;b.isAutoFocusFirstNodeWidget(this)&&this.customContentNode.focus();this.own(f(this.splashContainerNode,"focus",e.hitch(this,function(){this.firstTabNode.focus()})));this.own(f(this.firstTabNode,"focus",e.hitch(this,function(){this.customContentNode.focus()})));b.setWABLogoDefaultAlt(this.customContentNode)},resize:function(){this._resizeContentImg()},
_getGoogleMap:function(){var c=this.map.extent.getCenter().getLatitude(),a=this.map.extent.getCenter().getLongitude(),q=this.map.getZoom();window.open("https://maps.google.com/?q="+c+","+a+"&z="+q+"&layer=c&cbll="+c+","+a+"&cbp=11,0,0,0,0")},onOpen:function(){this.isOpen=!0;setTimeout(e.hitch(this,function(){this.isOpen=!1}),50)},_resizeContentImg:function(){var c=document.activeElement;d.empty(this.customContentNode);var a=d.toDom(this.config.about.aboutContent+"<div style='text-align: center;'><span id='Map1'></span><br>&nbsp;</div>");
d.place(a,this.customContentNode);this.customContentNode.nodeType&&1===this.customContentNode.nodeType&&((a=k("img",this.customContentNode))&&a.length&&a.forEach(e.hitch(this,function(a){"undefined"!==typeof a.complete&&!1===a.complete?this.own(f(a,"load",e.hitch(this,function(){this._resizeImg(a)}))):this._resizeImg(a)})),a=b.getFocusNodesInDom(this.domNode),a.length&&(b.initFirstFocusNode(this.domNode,a[0]),b.initLastFocusNode(this.domNode,a[a.length-1])),this.isOpen||d.isDescendant(c,this.domNode))&&
(c=b.getFirstFocusNode(this.domNode),b.isAutoFocusFirstNodeWidget(this)&&c.focus(),this.isOpen=!1);l.create("span",{innerHTML:"<span style='color: blue; text-decoration: underline; cursor: pointer;' title='Open Google Map @ current location'>Google Map</span>"},dojo.byId("Map1"));f(dojo.byId("Map1"),"click",e.hitch(this,this._getGoogleMap))},_resizeImg:function(c){var a=d.getContentBox(this.customContentNode),b=d.getContentBox(c);b&&b.w&&b.w>=a.w&&d.setStyle(c,{maxWidth:a.w-20+"px",maxHeight:a.h-
40+"px"})}})});