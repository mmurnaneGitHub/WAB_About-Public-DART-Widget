define("dojo/_base/declare dojo/_base/html dojo/query dojo/on dojo/_base/lang dojo/dom-construct esri/tasks/GeometryService esri/SpatialReference ./common dijit/_WidgetsInTemplateMixin jimu/utils jimu/BaseWidget".split(" "),function(k,d,l,f,b,g,m,n,h,p,e,q){return k([q,p],{baseClass:"jimu-widget-about",postCreate:function(){this.inherited(arguments);gsvc=new m("https://gis.cityoftacoma.org/arcgis/rest/services/Utilities/Geometry/GeometryServer")},startup:function(){this.inherited(arguments);h.isDefaultContent(this.config)&&
(this.config.about.aboutContent=h.setDefaultContent(this.config,this.nls));this.openAtStartAysn=this.isOpen=!0;this.resize();this.openAtStartAysn=!0;e.isAutoFocusFirstNodeWidget(this)&&this.customContentNode.focus();this.own(f(this.splashContainerNode,"focus",b.hitch(this,function(){this.firstTabNode.focus()})));this.own(f(this.firstTabNode,"focus",b.hitch(this,function(){this.customContentNode.focus()})));e.setWABLogoDefaultAlt(this.customContentNode)},resize:function(){this._resizeContentImg()},
_getGoogleMap:function(){var c=this.map.extent.getCenter().getLatitude(),a=this.map.extent.getCenter().getLongitude(),r=this.map.getZoom();window.open("https://maps.google.com/?q="+c+","+a+"&z="+r+"&layer=c&cbll="+c+","+a+"&cbp=11,0,0,0,0")},_getGovMeMap:function(){var c=this.map.extent.getCenter(),a=new n(2286);gsvc.project([c],a,function(a){pt=a[0];window.open("http://www.govme.org/gMap/MGMain.aspx?Type=Tidemark&X="+pt.x.toFixed()+"&Y="+pt.y.toFixed()+"&Width=500")})},onOpen:function(){this.isOpen=
!0;setTimeout(b.hitch(this,function(){this.isOpen=!1}),50)},_resizeContentImg:function(){var c=document.activeElement;d.empty(this.customContentNode);var a=d.toDom(this.config.about.aboutContent+"<div style='text-align: center;'><span id='Map1'></span> | <span id='Map2'></span><br>&nbsp;</div>");d.place(a,this.customContentNode);this.customContentNode.nodeType&&1===this.customContentNode.nodeType&&((a=l("img",this.customContentNode))&&a.length&&a.forEach(b.hitch(this,function(a){"undefined"!==typeof a.complete&&
!1===a.complete?this.own(f(a,"load",b.hitch(this,function(){this._resizeImg(a)}))):this._resizeImg(a)})),a=e.getFocusNodesInDom(this.domNode),a.length&&(e.initFirstFocusNode(this.domNode,a[0]),e.initLastFocusNode(this.domNode,a[a.length-1])),this.isOpen||d.isDescendant(c,this.domNode))&&(c=e.getFirstFocusNode(this.domNode),e.isAutoFocusFirstNodeWidget(this)&&c.focus(),this.isOpen=!1);g.create("span",{innerHTML:"<span style='color: blue; text-decoration: underline; cursor: pointer;' title='Open Google Map @ current location'>Google Map</span>"},
dojo.byId("Map1"));f(dojo.byId("Map1"),"click",b.hitch(this,this._getGoogleMap));g.create("span",{innerHTML:"<span style='color: blue; text-decoration: underline; cursor: pointer;' title='Open govME Map @ current location'>govME Map</span>"},dojo.byId("Map2"));f(dojo.byId("Map2"),"click",b.hitch(this,this._getGovMeMap))},_resizeImg:function(c){var a=d.getContentBox(this.customContentNode),b=d.getContentBox(c);b&&b.w&&b.w>=a.w&&d.setStyle(c,{maxWidth:a.w-20+"px",maxHeight:a.h-40+"px"})}})});